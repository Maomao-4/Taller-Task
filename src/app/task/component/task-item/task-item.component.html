<ion-card [class.done]="task.done">
  <ion-card-header>
    <ion-card-title *ngIf="!isEditing">{{ task.title }}</ion-card-title>
    <ion-input *ngIf="isEditing" [(ngModel)]="editableTask.title"></ion-input>

    <ion-card-subtitle *ngIf="!isEditing">{{
      task.date | date : "medium"
    }}</ion-card-subtitle>
    <ion-datetime
      *ngIf="isEditing"
      [(ngModel)]="editableTask.date"
      displayFormat="YYYY-MM-DD"
    ></ion-datetime>
  </ion-card-header>

  <ion-card-content>
    <p *ngIf="!isEditing">{{ task.description }}</p>
    <ion-textarea
      *ngIf="isEditing"
      [(ngModel)]="editableTask.description"
    ></ion-textarea>
  </ion-card-content>

  <ion-button fill="clear" (click)="toggleDone()" class="check-btn">
    <ion-icon *ngIf="!task.done" name="close-outline"></ion-icon>
    <ion-icon *ngIf="task.done" name="checkmark-outline"></ion-icon>
  </ion-button>

  <ion-button fill="clear" (click)="deleteTask(task)">
    <ion-icon name="trash-outline"></ion-icon>
  </ion-button>

  <ion-button fill="clear" (click)="toggleEdit()">
    <ion-icon *ngIf="!isEditing" name="create-outline"></ion-icon>
    <ion-icon *ngIf="isEditing" name="checkmark-outline"></ion-icon>
  </ion-button>
</ion-card>
